{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\Programovani\\\\Github\\\\Capstone\\\\Capstone_Project\\\\fronted\\\\src\\\\components\\\\OrderDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  pid: 0,\n  purchasedate: \"\",\n  createdby: \"\",\n  totalprice: 0,\n  items: []\n};\nexport default function OrderDetail() {\n  _s();\n  let name = sessionStorage.getItem(\"name\");\n  let role = sessionStorage.getItem(\"role\");\n  let navigate = useNavigate();\n  const [order, setOrder] = useState(initialState);\n  const [movies, setMovies] = useState([]);\n  let {\n    pid\n  } = useParams();\n  pid = Number(pid);\n  useEffect(() => {\n    fetch(\"http://localhost:8080/purchases/detail/\" + pid).then(response => {\n      return response.json();\n    }).then(data => {\n      setOrder(data);\n    });\n  }, []);\n  useEffect(() => {\n    order.items.map(async item => await fetch(\"http://localhost:8080/movies/\" + item.mid).then(res => res.json()).then(result => {\n      setMovies(prevState => [...prevState, result]);\n    }));\n  }, [order]);\n  if (movies.length > 0 && order !== undefined && order.createdby === name) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container px-4 px-lg-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row gx-4 gx-lg-5 align-items-center my-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Order ID: \", order.pid]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Purchase Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), \" \", order.purchasedate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"cta-inner bg-faded text-center rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Purchased Items:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this), order.items.map(item => {\n              const movie = movies.find(movie => movie.mid === item.mid);\n              return movie ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mb-3 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: movie.moviename\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 21\n                  }, this), \" (\", movie.language, \", \", movie.moviedate, \" \", movie.movietime, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-3 text-right\",\n                  children: [item.amount, \"x$\", item.ticketprice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 19\n                }, this)]\n              }, item.iid, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this) : null;\n            }), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-3 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"$\", order.totalprice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(-1),\n        type: \"button\",\n        style: {\n          backgroundColor: \"#C20605\",\n          color: \"white\"\n        },\n        className: \"btn btn-sm\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"There is no existing order with this ID.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 10\n  }, this);\n}\n_s(OrderDetail, \"PXiDXHqb/HvCW1ynT+gVJuDym1k=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = OrderDetail;\nvar _c;\n$RefreshReg$(_c, \"OrderDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsxDEV","_jsxDEV","initialState","pid","purchasedate","createdby","totalprice","items","OrderDetail","_s","name","sessionStorage","getItem","role","navigate","order","setOrder","movies","setMovies","Number","fetch","then","response","json","data","map","item","mid","res","result","prevState","length","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","class","movie","find","moviename","language","moviedate","movietime","amount","ticketprice","iid","onClick","type","style","backgroundColor","color","_c","$RefreshReg$"],"sources":["C:/Program Files/Programovani/Github/Capstone/Capstone_Project/fronted/src/components/OrderDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n  pid: 0,\r\n  purchasedate: \"\",\r\n  createdby: \"\",\r\n  totalprice: 0,\r\n  items: [],\r\n};\r\n\r\nexport default function OrderDetail() {\r\n  let name = sessionStorage.getItem(\"name\");\r\n  let role = sessionStorage.getItem(\"role\");\r\n  let navigate = useNavigate();\r\n  const [order, setOrder] = useState(initialState);\r\n  const [movies, setMovies] = useState([]);\r\n  let { pid } = useParams();\r\n  pid = Number(pid);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8080/purchases/detail/\" + pid)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setOrder(data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    order.items.map(\r\n      async (item) =>\r\n        await fetch(\"http://localhost:8080/movies/\" + item.mid)\r\n          .then((res) => res.json())\r\n          .then((result) => {\r\n            setMovies((prevState) => [...prevState, result]);\r\n          })\r\n    );\r\n  }, [order]);\r\n\r\n  if (movies.length > 0 && order !== undefined && order.createdby === name) {\r\n    return (\r\n      <div className=\"container px-4 px-lg-5\">\r\n        <div className=\"row gx-4 gx-lg-5 align-items-center my-5\">\r\n          <div className=\"col-12\">\r\n            <h5>Order ID: {order.pid}</h5>\r\n            <br></br>\r\n            <p>\r\n              <b>Purchase Date:</b> {order.purchasedate}\r\n            </p>\r\n            <div class=\"cta-inner bg-faded text-center rounded\">\r\n            <p>\r\n              <b>Purchased Items:</b>\r\n            </p>\r\n            {order.items.map((item) => {\r\n              const movie = movies.find((movie) => movie.mid === item.mid);\r\n              return movie ? (\r\n                <div key={item.iid} className=\"row mb-3 text-center\">\r\n                  <div className=\"col-6\">\r\n                    <b>{movie.moviename}</b> ({movie.language}, {movie.moviedate}{\" \"}\r\n                    {movie.movietime})\r\n                  </div>\r\n                  <div className=\"col-3 text-right\">\r\n                    {item.amount}x${item.ticketprice}\r\n                  </div>\r\n                </div>\r\n              ) : null;\r\n            })}\r\n            \r\n            <hr></hr>\r\n            <div className=\"row mb-3 text-center\">\r\n              <div className=\"col-6\">\r\n                <strong>Total Price</strong>\r\n              </div>\r\n              <div className=\"col-3 text-right\">\r\n                <strong>${order.totalprice}</strong>\r\n              </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          type=\"button\"\r\n          style={{ backgroundColor: \"#C20605\", color: \"white\" }}\r\n          className=\"btn btn-sm\"\r\n        >\r\n          Go Back\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  return <div>There is no existing order with this ID.</div>;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}