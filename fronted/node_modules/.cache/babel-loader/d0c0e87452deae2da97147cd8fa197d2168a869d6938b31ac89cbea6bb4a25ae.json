{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\Programovani\\\\Github\\\\Capstone\\\\Capstone_Project\\\\fronted\\\\src\\\\components\\\\OrderSummary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  pid: 0,\n  purchasedate: \"\",\n  createdby: \"\",\n  totalprice: 0,\n  items: []\n};\nexport default function OrderSummary() {\n  _s();\n  let name = sessionStorage.getItem(\"name\");\n  let role = sessionStorage.getItem(\"role\");\n  let navigate = useNavigate();\n  const [order, setOrder] = useState(initialState);\n  const [movies, setMovies] = useState([]);\n  let {\n    pid\n  } = useParams();\n  pid = Number(pid);\n  useEffect(() => {\n    fetch(\"http://localhost:8080/purchases/detail/\" + pid).then(response => {\n      return response.json();\n    }).then(data => {\n      setOrder(data);\n    });\n  }, []);\n  useEffect(() => {\n    order.items.map(async item => await fetch(\"http://localhost:8080/movies/\" + item.mid).then(res => res.json()).then(result => {\n      setMovies(prevState => [...prevState, result]);\n    }));\n  }, [order]);\n  if (movies.length > 0 && order !== undefined && order.createdby === name) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container px-4 px-lg-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row gx-4 gx-lg-5 align-items-center my-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Thank You for Your Order!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Your order with ID: \", order.pid, \" has been created successfully. You can find the order details also in your profile.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"cta-inner bg-faded text-center rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), order.items.map(item => {\n            const movie = movies.find(movie => movie.mid === item.mid);\n            return movie ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: movie.moviename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, this), \" (\", movie.language, \",\", \" \", movie.moviedate, \" \", movie.movietime, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-3 text-right\",\n                children: [item.amount, \"x$\", item.ticketprice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)]\n            }, item.iid, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this) : null;\n          }), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"$\", order.totalprice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(OrderSummary, \"PXiDXHqb/HvCW1ynT+gVJuDym1k=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = OrderSummary;\nvar _c;\n$RefreshReg$(_c, \"OrderSummary\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsxDEV","_jsxDEV","initialState","pid","purchasedate","createdby","totalprice","items","OrderSummary","_s","name","sessionStorage","getItem","role","navigate","order","setOrder","movies","setMovies","Number","fetch","then","response","json","data","map","item","mid","res","result","prevState","length","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","class","movie","find","moviename","language","moviedate","movietime","amount","ticketprice","iid","_c","$RefreshReg$"],"sources":["C:/Program Files/Programovani/Github/Capstone/Capstone_Project/fronted/src/components/OrderSummary.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n  pid: 0,\r\n  purchasedate: \"\",\r\n  createdby: \"\",\r\n  totalprice: 0,\r\n  items: [],\r\n};\r\n\r\nexport default function OrderSummary() {\r\n  let name = sessionStorage.getItem(\"name\");\r\n  let role = sessionStorage.getItem(\"role\");\r\n  let navigate = useNavigate();\r\n  const [order, setOrder] = useState(initialState);\r\n  const [movies, setMovies] = useState([]);\r\n  let { pid } = useParams();\r\n  pid = Number(pid);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8080/purchases/detail/\" + pid)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setOrder(data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    order.items.map(\r\n      async (item) =>\r\n        await fetch(\"http://localhost:8080/movies/\" + item.mid)\r\n          .then((res) => res.json())\r\n          .then((result) => {\r\n            setMovies((prevState) => [...prevState, result]);\r\n          })\r\n    );\r\n  }, [order]);\r\n\r\n  if (movies.length > 0 && order !== undefined && order.createdby === name) {\r\n    return (\r\n      <div className=\"container px-4 px-lg-5\">\r\n        <div className=\"row gx-4 gx-lg-5 align-items-center my-5\">\r\n          <div className=\"text-center\">\r\n            <h3>Thank You for Your Order!</h3>\r\n            <br></br>\r\n            <h5>\r\n                Your order with ID: {order.pid} has been created successfully.\r\n                You can find the order details also in your profile.\r\n            </h5>\r\n            <p></p>\r\n          </div>\r\n          <div class=\"cta-inner bg-faded text-center rounded\"></div>\r\n          <div className=\"col-12\">\r\n            <br></br>\r\n            {order.items.map((item) => {\r\n              const movie = movies.find((movie) => movie.mid === item.mid);\r\n              return movie ? (\r\n                <div key={item.iid} className=\"row mb-3 text-center\">\r\n                  <div className=\"col-6\">\r\n                    <b>{movie.moviename}</b> ({movie.language},{\" \"}\r\n                    {movie.moviedate} {movie.movietime})\r\n                  </div>\r\n                  <div className=\"col-3 text-right\">\r\n                    {item.amount}x${item.ticketprice}\r\n                  </div>\r\n                </div>\r\n              ) : null;\r\n            })}\r\n            <hr></hr>\r\n            <div className=\"row mb-3 text-center\">\r\n              <div className=\"col-6\">\r\n                <strong>Total Price</strong>\r\n              </div>\r\n              <div className=\"col-3 text-right\">\r\n                <strong>${order.totalprice}</strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}