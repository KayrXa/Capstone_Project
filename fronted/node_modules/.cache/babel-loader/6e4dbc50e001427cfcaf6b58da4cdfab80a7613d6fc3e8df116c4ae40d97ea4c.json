{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cartitems: []\n};\nconst cartslice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    add: (state, action) => {\n      const exist = state.cartitems.find(item => item.mid === action.payload.mid);\n      if (exist) {\n        let items = state.cartitems.map(item => item.mid === action.payload.mid ? {\n          ...exist,\n          amount: exist.amount + 1\n        } : item);\n        state.cartitems = items;\n      } else {\n        let newitem = {\n          ...action.payload,\n          amount: 1\n        };\n        state.cartitems.push(newitem);\n      }\n    },\n    remove: (state, action) => {\n      let removeitem = action.payload;\n      const exist = state.cartitems.find(item => item.mid === removeitem.mid);\n      if (exist.amount === 1) {\n        state.cartitems.splice(state.cartitems.findIndex(item => item.mid === removeitem.mid), 1);\n      } else {\n        let items = state.cartitems.map(item => item.mid === removeitem.mid ? {\n          ...exist,\n          amount: exist.amount - 1\n        } : item);\n        state.cartitems = items;\n      }\n    },\n    removeAll: state => {\n      state.cartitems = [];\n    }\n  }\n});\nexport let cartitems = state => state.cartreducer.cartitems;\nexport let {\n  add,\n  remove,\n  removeAll\n} = cartslice.actions;\nexport default cartslice.reducer;","map":{"version":3,"names":["createSlice","initialState","cartitems","cartslice","name","reducers","add","state","action","exist","find","item","mid","payload","items","map","amount","newitem","push","remove","removeitem","splice","findIndex","removeAll","cartreducer","actions","reducer"],"sources":["D:/Projekty/Capstone project/fronted/src/slicers/cartslice.js"],"sourcesContent":["import { createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  cartitems: [],\r\n};\r\n\r\nconst cartslice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action) => {\r\n      const exist = state.cartitems.find((item) => item.mid === action.payload.mid);\r\n      if (exist) {\r\n        let items = state.cartitems.map((item) =>\r\n          item.mid === action.payload.mid ? { ...exist, amount: exist.amount + 1 } : item\r\n        );\r\n        state.cartitems = items;\r\n      } else {\r\n        let newitem = { ...action.payload, amount: 1 };\r\n        state.cartitems.push(newitem);\r\n      }\r\n    },\r\n    remove: (state, action) => {\r\n      let removeitem = action.payload;\r\n      const exist = state.cartitems.find((item) => item.mid === removeitem.mid);\r\n      if (exist.amount === 1) {\r\n        state.cartitems.splice(\r\n          state.cartitems.findIndex((item) => item.mid === removeitem.mid),\r\n          1\r\n        );\r\n      } else {\r\n        let items = state.cartitems.map((item) =>\r\n          item.mid === removeitem.mid ? { ...exist, amount: exist.amount - 1 } : item\r\n        );\r\n        state.cartitems = items;\r\n      }\r\n    },\r\n    removeAll: (state) => {\r\n      state.cartitems = [];\r\n    },\r\n  },\r\n});\r\n\r\nexport let cartitems = (state) => state.cartreducer.cartitems;\r\nexport let { add, remove, removeAll } = cartslice.actions;\r\nexport default cartslice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAO,kBAAkB;AAE7C,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,SAAS,GAAGH,WAAW,CAAC;EAC5BI,IAAI,EAAE,MAAM;EACZH,YAAY;EACZI,QAAQ,EAAE;IACRC,GAAG,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACtB,MAAMC,KAAK,GAAGF,KAAK,CAACL,SAAS,CAACQ,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKJ,MAAM,CAACK,OAAO,CAACD,GAAG,CAAC;MAC7E,IAAIH,KAAK,EAAE;QACT,IAAIK,KAAK,GAAGP,KAAK,CAACL,SAAS,CAACa,GAAG,CAAEJ,IAAI,IACnCA,IAAI,CAACC,GAAG,KAAKJ,MAAM,CAACK,OAAO,CAACD,GAAG,GAAG;UAAE,GAAGH,KAAK;UAAEO,MAAM,EAAEP,KAAK,CAACO,MAAM,GAAG;QAAE,CAAC,GAAGL,IAC7E,CAAC;QACDJ,KAAK,CAACL,SAAS,GAAGY,KAAK;MACzB,CAAC,MAAM;QACL,IAAIG,OAAO,GAAG;UAAE,GAAGT,MAAM,CAACK,OAAO;UAAEG,MAAM,EAAE;QAAE,CAAC;QAC9CT,KAAK,CAACL,SAAS,CAACgB,IAAI,CAACD,OAAO,CAAC;MAC/B;IACF,CAAC;IACDE,MAAM,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACzB,IAAIY,UAAU,GAAGZ,MAAM,CAACK,OAAO;MAC/B,MAAMJ,KAAK,GAAGF,KAAK,CAACL,SAAS,CAACQ,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKQ,UAAU,CAACR,GAAG,CAAC;MACzE,IAAIH,KAAK,CAACO,MAAM,KAAK,CAAC,EAAE;QACtBT,KAAK,CAACL,SAAS,CAACmB,MAAM,CACpBd,KAAK,CAACL,SAAS,CAACoB,SAAS,CAAEX,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKQ,UAAU,CAACR,GAAG,CAAC,EAChE,CACF,CAAC;MACH,CAAC,MAAM;QACL,IAAIE,KAAK,GAAGP,KAAK,CAACL,SAAS,CAACa,GAAG,CAAEJ,IAAI,IACnCA,IAAI,CAACC,GAAG,KAAKQ,UAAU,CAACR,GAAG,GAAG;UAAE,GAAGH,KAAK;UAAEO,MAAM,EAAEP,KAAK,CAACO,MAAM,GAAG;QAAE,CAAC,GAAGL,IACzE,CAAC;QACDJ,KAAK,CAACL,SAAS,GAAGY,KAAK;MACzB;IACF,CAAC;IACDS,SAAS,EAAGhB,KAAK,IAAK;MACpBA,KAAK,CAACL,SAAS,GAAG,EAAE;IACtB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,IAAIA,SAAS,GAAIK,KAAK,IAAKA,KAAK,CAACiB,WAAW,CAACtB,SAAS;AAC7D,OAAO,IAAI;EAAEI,GAAG;EAAEa,MAAM;EAAEI;AAAU,CAAC,GAAGpB,SAAS,CAACsB,OAAO;AACzD,eAAetB,SAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}